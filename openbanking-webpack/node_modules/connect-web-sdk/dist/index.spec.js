"use strict";

var _index = require("./index");

var _constants = require("./constants");

var defaultPopupOptions = {
  width: _constants.CONNECT_POPUP_HEIGHT,
  height: _constants.CONNECT_POPUP_WIDTH,
  top: window.top.outerHeight / 2 + window.top.screenY - _constants.CONNECT_POPUP_HEIGHT / 2,
  left: window.top.outerWidth / 2 + window.top.screenX - _constants.CONNECT_POPUP_WIDTH / 2
};
var url = 'http://test.com';
describe('Connect', function () {
  var mockWindow;
  beforeEach(function () {
    mockWindow = {
      close: jest.fn(),
      focus: jest.fn(),
      closed: false,
      postMessage: jest.fn()
    };
    jest.useFakeTimers();
  });
  afterEach(function () {
    jest.resetAllMocks();

    _index.Connect.destroy();
  });
  test('should apply iframe styles', function () {
    var styles = document.getElementById(_constants.STYLES_ID);
    expect(styles.id).toBe(_constants.STYLES_ID);
    expect(styles.innerHTML).toBe("#".concat(_constants.IFRAME_ID, " {\n      position: absolute;\n      left: 0;\n      top: 0;\n      width: 100%;\n      height: 100%;\n      z-index: 10;\n      background: rgba(0,0,0,0.8);\n    }"));
  });
  describe('destroy', function () {
    test('should remove iframe and meta elements', function () {
      var iframeStub = {
        parentNode: {
          removeChild: jest.fn()
        },
        setAttribute: jest.fn()
      };
      var metaStub = {
        parentNode: {
          removeChild: jest.fn()
        },
        setAttribute: jest.fn()
      };
      spyOn(document.head, 'appendChild').and.callFake(function () {});
      spyOn(document.body, 'appendChild').and.callFake(function () {});
      spyOn(window.document, 'createElement').and.callFake(function (element) {
        return element === 'iframe' ? iframeStub : metaStub;
      });
      jest.spyOn(window, 'removeEventListener');

      _index.Connect.launch(url, {
        onDone: function onDone() {},
        onError: function onError() {},
        onCancel: function onCancel() {}
      });

      _index.Connect.destroy();

      expect(iframeStub.parentNode.removeChild).toHaveBeenCalled();
      expect(metaStub.parentNode.removeChild).toHaveBeenCalled();
    });
    test('should remove postMessage event listener', function () {
      var onMessageFn;

      window.addEventListener = function (cb) {
        onMessageFn = cb;
      };

      jest.spyOn(window, 'removeEventListener');

      _index.Connect.launch(url, {
        onDone: function onDone() {},
        onError: function onError() {},
        onCancel: function onCancel() {}
      });

      _index.Connect.destroy();

      expect(window.removeEventListener).toHaveBeenCalledWith('message', onMessageFn);
    });
    test('should close popup window', function () {
      spyOn(window, 'open').and.returnValue(mockWindow);

      _index.Connect.launch(url, {
        onDone: function onDone() {},
        onError: function onError() {},
        onCancel: function onCancel() {}
      }, {
        popup: true
      });

      _index.Connect.destroy();

      expect(mockWindow.close).toHaveBeenCalled();
    });
  });
  describe('launch', function () {
    test('should handle popup scenario with default options', function () {
      spyOn(window, 'open').and.returnValue(mockWindow);
      var onLoad = jest.fn();
      spyOn(_index.Connect, 'initPostMessage').and.callFake(function () {});

      _index.Connect.launch(url, {
        onDone: function onDone() {},
        onError: function onError() {},
        onCancel: function onCancel() {},
        onLoad: onLoad
      }, {
        popup: true
      });

      expect(window.open).toHaveBeenCalledWith(url, 'targetWindow', "toolbar=no,location=no,status=no,menubar=no,width=720,height=520,top=24,left=252");
      expect(onLoad).toHaveBeenCalled();
      expect(_index.Connect.initPostMessage).toHaveBeenCalled();
    });
    test('should handle popup scenario with specified options', function () {
      spyOn(window, 'open').and.returnValue(mockWindow);
      var popupOptions = {
        width: 100,
        height: 100,
        top: 200,
        left: 200
      };
      var onLoad = jest.fn();
      spyOn(_index.Connect, 'initPostMessage').and.callFake(function () {});

      _index.Connect.launch(url, {
        onDone: function onDone() {},
        onError: function onError() {},
        onCancel: function onCancel() {},
        onLoad: onLoad
      }, {
        popup: true,
        popupOptions: popupOptions
      });

      expect(onLoad).toHaveBeenCalled();
      expect(window.open).toHaveBeenCalledWith(url, 'targetWindow', "toolbar=no,location=no,status=no,menubar=no,width=".concat(popupOptions.width, ",height=").concat(popupOptions.height, ",top=").concat(popupOptions.top, ",left=").concat(popupOptions.left));
      expect(_index.Connect.initPostMessage).toHaveBeenCalled();
    });
    test('should return error event if popup failed to open', function () {
      spyOn(window, 'open').and.returnValue(undefined);
      var onError = jest.fn();

      _index.Connect.launch(url, {
        onDone: function onDone() {},
        onError: onError,
        onCancel: function onCancel() {}
      }, {
        popup: true
      });

      expect(window.open).toHaveBeenCalled();
      expect(onError).toHaveBeenCalledWith({
        reason: 'error',
        code: 1403
      });
    });
    test('should handle iframe scenario with no overrides', function () {
      spyOn(document, 'querySelectorAll').and.callThrough();
      var iframeStub = {
        parentNode: {
          removeChild: jest.fn()
        },
        setAttribute: jest.fn()
      };
      var metaStub = {
        parentNode: {
          removeChild: jest.fn()
        },
        setAttribute: jest.fn()
      };
      spyOn(document.head, 'appendChild').and.callFake(function () {});
      spyOn(document.body, 'appendChild').and.callFake(function () {});
      spyOn(window.document, 'createElement').and.callFake(function (element) {
        return element === 'iframe' ? iframeStub : metaStub;
      });
      var onLoad = jest.fn();
      spyOn(_index.Connect, 'initPostMessage').and.callFake(function () {});

      _index.Connect.launch(url, {
        onDone: function onDone() {},
        onError: function onError() {},
        onCancel: function onCancel() {},
        onLoad: onLoad
      });

      expect(document.querySelectorAll).toHaveBeenCalledWith('meta[name="viewport"]');
      expect(document.createElement).toHaveBeenCalledWith('meta');
      expect(metaStub.setAttribute).toHaveBeenCalledWith('name', 'viewport');
      expect(metaStub.setAttribute).toHaveBeenCalledWith('content', 'initial-scale=1');
      expect(document.head.appendChild).toHaveBeenCalledWith(metaStub);
      expect(document.createElement).toHaveBeenCalledWith('iframe');
      expect(iframeStub.src).toBe(url);
      expect(iframeStub.setAttribute).toHaveBeenCalledWith('id', _constants.IFRAME_ID);
      expect(iframeStub.setAttribute).toHaveBeenCalledWith('frameborder', '0');
      expect(iframeStub.setAttribute).toHaveBeenCalledWith('scrolling', 'no');
      expect(document.body.appendChild).toHaveBeenCalledWith(iframeStub);
      iframeStub.onload();
      expect(_index.Connect.initPostMessage).toHaveBeenCalledWith({});
      expect(onLoad).toHaveBeenCalled();
    });
    test('should handle iframe scenario with custom overlay and container', function () {
      var mockContainer = {
        appendChild: jest.fn()
      };
      var options = {
        overlay: 'gray',
        selector: '#container'
      };
      spyOn(document, 'querySelectorAll').and.callThrough();
      spyOn(document, 'querySelector').and.returnValue(mockContainer);
      var iframeStub = {
        parentNode: {
          removeChild: jest.fn()
        },
        setAttribute: jest.fn()
      };
      var metaStub = {
        parentNode: {
          removeChild: jest.fn()
        },
        setAttribute: jest.fn()
      };
      spyOn(document.head, 'appendChild').and.callFake(function () {});
      spyOn(document.body, 'appendChild').and.callFake(function () {});
      spyOn(window.document, 'createElement').and.callFake(function (element) {
        return element === 'iframe' ? iframeStub : metaStub;
      });
      var onLoad = jest.fn();
      spyOn(_index.Connect, 'initPostMessage').and.callFake(function () {});

      _index.Connect.launch(url, {
        onDone: function onDone() {},
        onError: function onError() {},
        onCancel: function onCancel() {},
        onLoad: onLoad
      }, options);

      expect(iframeStub.setAttribute).toHaveBeenCalledWith('style', 'background: gray;');
      expect(document.querySelector).toHaveBeenCalledWith('#container');
      expect(mockContainer.appendChild).toHaveBeenCalledWith(iframeStub);
      iframeStub.onload();
      expect(_index.Connect.initPostMessage).toHaveBeenCalledWith(options);
      expect(onLoad).toHaveBeenCalled();
    });
    test('should handle iframe scenario with custom container as node', function () {
      var mockContainer = {
        appendChild: jest.fn()
      };
      var options = {
        node: mockContainer
      };
      var iframeStub = {
        parentNode: {
          removeChild: jest.fn()
        },
        setAttribute: jest.fn()
      };
      var metaStub = {
        parentNode: {
          removeChild: jest.fn()
        },
        setAttribute: jest.fn()
      };
      spyOn(document.head, 'appendChild').and.callFake(function () {});
      spyOn(window.document, 'createElement').and.callFake(function (element) {
        return element === 'iframe' ? iframeStub : metaStub;
      });
      var onLoad = jest.fn();
      spyOn(_index.Connect, 'initPostMessage').and.callFake(function () {});

      _index.Connect.launch(url, {
        onDone: function onDone() {},
        onError: function onError() {},
        onCancel: function onCancel() {},
        onLoad: onLoad
      }, options);

      expect(mockContainer.appendChild).toHaveBeenCalledWith(iframeStub);
      iframeStub.onload();
      expect(_index.Connect.initPostMessage).toHaveBeenCalledWith(options);
      expect(onLoad).toHaveBeenCalled();
    });
    test("should log warning and append iframe to body if selector doesn't return an element", function () {
      spyOn(console, 'warn').and.callFake(function () {});
      var options = {
        selector: '#container'
      };
      spyOn(document, 'querySelectorAll').and.callThrough();
      spyOn(document, 'querySelector').and.returnValue(undefined);
      var iframeStub = {
        parentNode: {
          removeChild: jest.fn()
        },
        setAttribute: jest.fn()
      };
      var metaStub = {
        parentNode: {
          removeChild: jest.fn()
        },
        setAttribute: jest.fn()
      };
      spyOn(document.head, 'appendChild').and.callFake(function () {});
      spyOn(document.body, 'appendChild').and.callFake(function () {});
      spyOn(window.document, 'createElement').and.callFake(function (element) {
        return element === 'iframe' ? iframeStub : metaStub;
      });
      var onLoad = jest.fn();
      spyOn(_index.Connect, 'initPostMessage').and.callFake(function () {});

      _index.Connect.launch(url, {
        onDone: function onDone() {},
        onError: function onError() {},
        onCancel: function onCancel() {},
        onLoad: onLoad
      }, options);

      expect(document.querySelector).toHaveBeenCalledWith('#container');
      expect(document.body.appendChild).toHaveBeenCalledWith(iframeStub);
      expect(console.warn).toHaveBeenCalledWith("Couldn't find any elements matching \"".concat(options.selector, "\", appending \"iframe\" to \"body\" instead."));
    });
    test('should throw error if launch is called again before calling destroy', function () {
      _index.Connect.launch(url, {
        onDone: function onDone() {},
        onError: function onError() {},
        onCancel: function onCancel() {}
      });

      try {
        _index.Connect.launch(url, {
          onDone: function onDone() {},
          onError: function onError() {},
          onCancel: function onCancel() {}
        });
      } catch (e) {
        expect(e.message).toBe('You must destroy the iframe before you can open a new one. Call "destroy()"');
      }
    });
  });
  describe('initPostMessage', function () {
    test('should call postMessage every second with the expected parameters and attach postMessage event handler', function () {
      spyOn(window, 'setInterval').and.callThrough();
      spyOn(_index.Connect, 'postMessage').and.callFake(function () {});

      _index.Connect.initPostMessage({
        selector: '#container'
      });

      jest.advanceTimersByTime(1100);
      expect(_index.Connect.postMessage).toHaveBeenCalledWith({
        type: _constants.PING_EVENT,
        selector: '#container',
        sdkVersion: _constants.CONNECT_SDK_VERSION,
        platform: _constants.PLATFORM_IFRAME
      });

      _index.Connect.initPostMessage({
        popup: true
      });

      jest.advanceTimersByTime(1100);
      expect(_index.Connect.postMessage).toHaveBeenCalledWith({
        type: _constants.PING_EVENT,
        selector: undefined,
        sdkVersion: _constants.CONNECT_SDK_VERSION,
        platform: _constants.PLATFORM_POPUP
      });
    });
    test('should call attach postMessage event handler and send events as expected', function () {
      var eventHandler;
      var popupMock = {
        close: jest.fn(),
        focus: jest.fn()
      };
      spyOn(window, 'open').and.callFake(jest.fn().mockReturnValue(popupMock));
      spyOn(window, 'addEventListener').and.callFake(function (eventType, eh) {
        return eventHandler = eh;
      });
      var eventHandlers = {
        onDone: jest.fn(),
        onError: jest.fn(),
        onCancel: jest.fn()
      };

      _index.Connect.launch(url, eventHandlers);

      _index.Connect.initPostMessage({
        selector: '#container'
      });

      expect(window.addEventListener).toHaveBeenCalled();
      spyOn(window, 'clearInterval');
      eventHandler({
        origin: url,
        data: {
          type: _constants.ACK_EVENT
        }
      });
      expect(window.clearInterval).toHaveBeenCalled();
      spyOn(_index.Connect, 'openPopupWindow').and.callThrough();
      spyOn(_index.Connect, 'destroy');
      eventHandler({
        origin: url,
        data: {
          type: _constants.URL_EVENT,
          url: 'http://oauth.com'
        }
      });
      expect(_index.Connect.openPopupWindow).toHaveBeenCalledWith('http://oauth.com');
      var payload = {
        test: true
      };
      eventHandler({
        origin: url,
        data: {
          type: _constants.DONE_EVENT,
          data: payload
        }
      });
      expect(eventHandlers.onDone).toHaveBeenCalledWith(payload);
      expect(_index.Connect.destroy).toHaveBeenCalledTimes(1);
      eventHandler({
        origin: url,
        data: {
          type: _constants.CANCEL_EVENT,
          data: payload
        }
      });
      expect(eventHandlers.onCancel).toHaveBeenCalledWith(payload);
      expect(_index.Connect.destroy).toHaveBeenCalledTimes(2);
      eventHandler({
        origin: url,
        data: {
          type: _constants.ERROR_EVENT,
          data: payload
        }
      });
      expect(eventHandlers.onCancel).toHaveBeenCalledWith(payload);
      expect(_index.Connect.destroy).toHaveBeenCalledTimes(3);
      eventHandler({
        origin: url,
        data: {
          type: _constants.ROUTE_EVENT,
          data: payload
        }
      });
      expect(eventHandlers.onCancel).toHaveBeenCalledWith(payload);
      expect(_index.Connect.destroy).toHaveBeenCalledTimes(3);
      eventHandler({
        origin: url,
        data: {
          type: _constants.USER_EVENT,
          data: payload
        }
      });
      expect(eventHandlers.onCancel).toHaveBeenCalledWith(payload);
      expect(_index.Connect.destroy).toHaveBeenCalledTimes(3);
      eventHandler({
        origin: url,
        data: {
          type: _constants.CLOSE_POPUP_EVENT,
          data: payload
        }
      });
      expect(popupMock.close).toHaveBeenCalled();
      expect(_index.Connect.destroy).toHaveBeenCalledTimes(3);
    });
    test('should call attach postMessage event handler and ping Connect indefinitely for popup scenario', function () {
      var eventHandler;
      spyOn(window, 'open').and.callFake(function () {
        return mockWindow;
      });
      spyOn(window, 'addEventListener').and.callFake(function (eventType, eh) {
        return eventHandler = eh;
      });
      var eventHandlers = {
        onDone: jest.fn(),
        onError: jest.fn(),
        onCancel: jest.fn()
      };

      _index.Connect.launch(url, eventHandlers, {
        popup: true
      });

      _index.Connect.initPostMessage({
        popup: true
      });

      expect(window.addEventListener).toHaveBeenCalled();
      spyOn(window, 'clearInterval');
      eventHandler({
        origin: url,
        data: {
          type: _constants.ACK_EVENT
        }
      });
      expect(window.clearInterval).not.toHaveBeenCalled();
    });
  });
  describe('openPopupWindow', function () {
    test("should open popup window, focus on it and periodically watch if it's still open", function () {
      spyOn(window, 'open').and.callFake(function () {
        return mockWindow;
      });
      spyOn(window, 'setInterval');
      spyOn(window, 'clearInterval');
      spyOn(_index.Connect, 'postMessage').and.callFake(function () {});

      _index.Connect.openPopupWindow(url);

      expect(window.open).toHaveBeenCalledWith(url, 'targetWindow', "toolbar=no,location=no,status=no,menubar=no,width=".concat(_constants.POPUP_WIDTH, ",height=").concat(_constants.POPUP_HEIGHT, ",top=84,left=212"));
      expect(mockWindow.focus).toHaveBeenCalled();
      expect(window.setInterval).toHaveBeenCalled();
      jest.advanceTimersByTime(1100);
      expect(window.clearInterval).not.toHaveBeenCalled();
    });
    test('should call postMessage when the popup is closed', function () {
      mockWindow.closed = true;
      spyOn(window, 'open').and.callFake(function () {
        return mockWindow;
      });
      spyOn(window, 'setInterval').and.callThrough();
      spyOn(window, 'clearInterval');
      spyOn(_index.Connect, 'postMessage').and.callFake(function () {});

      _index.Connect.openPopupWindow(url);

      expect(window.open).toHaveBeenCalledWith(url, 'targetWindow', "toolbar=no,location=no,status=no,menubar=no,width=".concat(_constants.POPUP_WIDTH, ",height=").concat(_constants.POPUP_HEIGHT, ",top=84,left=212"));
      expect(mockWindow.focus).toHaveBeenCalled();
      expect(window.setInterval).toHaveBeenCalled();
      jest.advanceTimersByTime(1100);
      expect(window.clearInterval).toHaveBeenCalled();
      expect(_index.Connect.postMessage).toHaveBeenCalledWith({
        type: _constants.WINDOW_EVENT,
        closed: true,
        blocked: false
      });
    });
    test('should let Connect know if the popup was blocked', function () {
      spyOn(window, 'open').and.callFake(function () {
        return undefined;
      });
      spyOn(_index.Connect, 'postMessage').and.callFake(function () {});

      _index.Connect.openPopupWindow(url);

      expect(window.open).toHaveBeenCalledWith(url, 'targetWindow', "toolbar=no,location=no,status=no,menubar=no,width=".concat(_constants.POPUP_WIDTH, ",height=").concat(_constants.POPUP_HEIGHT, ",top=84,left=212"));
      expect(mockWindow.focus).not.toHaveBeenCalled();
      expect(_index.Connect.postMessage).toHaveBeenCalledWith({
        type: _constants.WINDOW_EVENT,
        closed: true,
        blocked: true
      });
    });
  });
  describe('postMessage', function () {
    test('should call postMessage on (iframe)', function () {
      var iframeStub = {
        parentNode: {
          removeChild: jest.fn()
        },
        setAttribute: jest.fn(),
        contentWindow: {
          postMessage: jest.fn()
        }
      };
      var metaStub = {
        parentNode: {
          removeChild: jest.fn()
        },
        setAttribute: jest.fn()
      };
      spyOn(document.head, 'appendChild').and.callFake(function () {});
      spyOn(document.body, 'appendChild').and.callFake(function () {});
      spyOn(window.document, 'createElement').and.callFake(function (element) {
        return element === 'iframe' ? iframeStub : metaStub;
      });

      _index.Connect.launch(url, {
        onDone: function onDone() {},
        onError: function onError() {},
        onCancel: function onCancel() {}
      });

      iframeStub.onload();
      var data = {
        test: true
      };

      _index.Connect.postMessage(data);

      expect(iframeStub.contentWindow.postMessage).toHaveBeenCalledWith(data, url);
    });
    test('should call postMessage on (popup)', function () {
      spyOn(window, 'open').and.returnValue(mockWindow);

      _index.Connect.launch(url, {
        onDone: function onDone() {},
        onError: function onError() {},
        onCancel: function onCancel() {}
      }, {
        popup: true
      });

      var data = {
        test: true
      };

      _index.Connect.postMessage(data);

      expect(mockWindow.postMessage).toHaveBeenCalledWith(data, url);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9pbmRleC5zcGVjLnRzIl0sIm5hbWVzIjpbImRlZmF1bHRQb3B1cE9wdGlvbnMiLCJ3aWR0aCIsIkNPTk5FQ1RfUE9QVVBfSEVJR0hUIiwiaGVpZ2h0IiwiQ09OTkVDVF9QT1BVUF9XSURUSCIsInRvcCIsIndpbmRvdyIsIm91dGVySGVpZ2h0Iiwic2NyZWVuWSIsImxlZnQiLCJvdXRlcldpZHRoIiwic2NyZWVuWCIsInVybCIsImRlc2NyaWJlIiwibW9ja1dpbmRvdyIsImJlZm9yZUVhY2giLCJjbG9zZSIsImplc3QiLCJmbiIsImZvY3VzIiwiY2xvc2VkIiwicG9zdE1lc3NhZ2UiLCJ1c2VGYWtlVGltZXJzIiwiYWZ0ZXJFYWNoIiwicmVzZXRBbGxNb2NrcyIsIkNvbm5lY3QiLCJkZXN0cm95IiwidGVzdCIsInN0eWxlcyIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJTVFlMRVNfSUQiLCJleHBlY3QiLCJpZCIsInRvQmUiLCJpbm5lckhUTUwiLCJJRlJBTUVfSUQiLCJpZnJhbWVTdHViIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwic2V0QXR0cmlidXRlIiwibWV0YVN0dWIiLCJzcHlPbiIsImhlYWQiLCJhbmQiLCJjYWxsRmFrZSIsImJvZHkiLCJlbGVtZW50IiwibGF1bmNoIiwib25Eb25lIiwib25FcnJvciIsIm9uQ2FuY2VsIiwidG9IYXZlQmVlbkNhbGxlZCIsIm9uTWVzc2FnZUZuIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNiIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwicmV0dXJuVmFsdWUiLCJwb3B1cCIsIm9uTG9hZCIsIm9wZW4iLCJpbml0UG9zdE1lc3NhZ2UiLCJwb3B1cE9wdGlvbnMiLCJ1bmRlZmluZWQiLCJyZWFzb24iLCJjb2RlIiwiY2FsbFRocm91Z2giLCJxdWVyeVNlbGVjdG9yQWxsIiwiY3JlYXRlRWxlbWVudCIsImFwcGVuZENoaWxkIiwic3JjIiwib25sb2FkIiwibW9ja0NvbnRhaW5lciIsIm9wdGlvbnMiLCJvdmVybGF5Iiwic2VsZWN0b3IiLCJxdWVyeVNlbGVjdG9yIiwibm9kZSIsImNvbnNvbGUiLCJ3YXJuIiwiZSIsIm1lc3NhZ2UiLCJhZHZhbmNlVGltZXJzQnlUaW1lIiwidHlwZSIsIlBJTkdfRVZFTlQiLCJzZGtWZXJzaW9uIiwiQ09OTkVDVF9TREtfVkVSU0lPTiIsInBsYXRmb3JtIiwiUExBVEZPUk1fSUZSQU1FIiwiUExBVEZPUk1fUE9QVVAiLCJldmVudEhhbmRsZXIiLCJwb3B1cE1vY2siLCJtb2NrUmV0dXJuVmFsdWUiLCJldmVudFR5cGUiLCJlaCIsImV2ZW50SGFuZGxlcnMiLCJvcmlnaW4iLCJkYXRhIiwiQUNLX0VWRU5UIiwiY2xlYXJJbnRlcnZhbCIsIlVSTF9FVkVOVCIsIm9wZW5Qb3B1cFdpbmRvdyIsInBheWxvYWQiLCJET05FX0VWRU5UIiwidG9IYXZlQmVlbkNhbGxlZFRpbWVzIiwiQ0FOQ0VMX0VWRU5UIiwiRVJST1JfRVZFTlQiLCJST1VURV9FVkVOVCIsIlVTRVJfRVZFTlQiLCJDTE9TRV9QT1BVUF9FVkVOVCIsIm5vdCIsIlBPUFVQX1dJRFRIIiwiUE9QVVBfSEVJR0hUIiwic2V0SW50ZXJ2YWwiLCJXSU5ET1dfRVZFTlQiLCJibG9ja2VkIiwiY29udGVudFdpbmRvdyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFFQTs7QUFzQkEsSUFBTUEsbUJBQW1CLEdBQUc7QUFDMUJDLEVBQUFBLEtBQUssRUFBRUMsK0JBRG1CO0FBRTFCQyxFQUFBQSxNQUFNLEVBQUVDLDhCQUZrQjtBQUcxQkMsRUFBQUEsR0FBRyxFQUNEQyxNQUFNLENBQUNELEdBQVAsQ0FBV0UsV0FBWCxHQUF5QixDQUF6QixHQUE2QkQsTUFBTSxDQUFDRCxHQUFQLENBQVdHLE9BQXhDLEdBQWtETixrQ0FBdUIsQ0FKakQ7QUFLMUJPLEVBQUFBLElBQUksRUFDRkgsTUFBTSxDQUFDRCxHQUFQLENBQVdLLFVBQVgsR0FBd0IsQ0FBeEIsR0FBNEJKLE1BQU0sQ0FB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ZXgnO1xuXG5pbXBvcnQge1xuICBJRlJBTUVfSUQsXG4gIFBPUFVQX1dJRFRILFxuICBQT1BVUF9IRUlHSFQsXG4gIENPTk5FQ1RfUE9QVVBfSEVJR0hULFxuICBDT05ORUNUX1BPUFVQX1dJRFRILFxuICBBQ0tfRVZFTlQsXG4gIENBTkNFTF9FVkVOVCxcbiAgVVJMX0VWRU5ULFxuICBET05FX0VWRU5ULFxuICBFUlJPUl9FVkVOVCxcbiAgUElOR19FVkVOVCxcbiAgV0lORE9XX0VWRU5ULFxuICBST1VURV9FVkVOVCxcbiAgVVNFUl9FVkVOVCxcbiAgUExBVEZPUk1fSUZSQU1FLFxuICBQTEFURk9STV9QT1BVUCxcbiAgU1RZTEVTX0lELFxuICBDT05ORUNUX1NES19WRVJTSU9OLFxuICBDTE9TRV9QT1BVUF9FVkVOVCxcbn0gZnJvbSAnLi9jb25zdGFudHMnO1xuXG5jb25zdCBkZWZhdWx0UG9wdXBPcHRpb25zID0ge1xuICB3aWR0aDogQ09OTkVDVF9QT1BVUF9IRUlHSFQsXG4gIGhlaWdodDogQ09OTkVDVF9QT1BVUF9XSURUSCxcbiAgdG9wOlxuICAgIHdpbmRvdy50b3Aub3V0ZXJIZWlnaHQgLyAyICsgd2luZG93LnRvcC5zY3JlZW5ZIC0gQ09OTkVDVF9QT1BVUF9IRUlHSFQgLyAyLFxuICBsZWZ0OlxuICAgIHdpbmRvdy50b3Aub3V0ZXJXaWR0aCAvIDIgKyB3aW5kb3cudG9wLnNjcmVlblggLSBDT05ORUNUX1BPUFVQX1dJRFRIIC8gMixcbn07XG5cbmNvbnN0IHVybCA9ICdodHRwOi8vdGVzdC5jb20nO1xuZGVzY3JpYmUoJ0Nvbm5lY3QnLCAoKSA9PiB7XG4gIGxldCBtb2NrV2luZG93O1xuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBtb2NrV2luZG93ID0ge1xuICAgICAgY2xvc2U6IGplc3QuZm4oKSxcbiAgICAgIGZvY3VzOiBqZXN0LmZuKCksXG4gICAgICBjbG9zZWQ6IGZhbHNlLFxuICAgICAgcG9zdE1lc3NhZ2U6IGplc3QuZm4oKSxcbiAgICB9O1xuICAgIGplc3QudXNlRmFrZVRpbWVycygpO1xuICB9KTtcblxuICBhZnRlckVhY2goKCkgPT4ge1xuICAgIGplc3QucmVzZXRBbGxNb2NrcygpO1xuICAgIENvbm5lY3QuZGVzdHJveSgpO1xuICB9KTtcblxuICB0ZXN0KCdzaG91bGQgYXBwbHkgaWZyYW1lIHN0eWxlcycsICgpID0+IHtcbiAgICBjb25zdCBzdHlsZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChTVFlMRVNfSUQpO1xuICAgIGV4cGVjdChzdHlsZXMuaWQpLnRvQmUoU1RZTEVTX0lEKTtcbiAgICBleHBlY3Qoc3R5bGVzLmlubmVySFRNTCkudG9CZShgIyR7SUZSQU1FX0lEfSB7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICBsZWZ0OiAwO1xuICAgICAgdG9wOiAwO1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICB6LWluZGV4OiAxMDtcbiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMCwwLDAsMC44KTtcbiAgICB9YCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdkZXN0cm95JywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCByZW1vdmUgaWZyYW1lIGFuZCBtZXRhIGVsZW1lbnRzJywgKCkgPT4ge1xuICAgICAgY29uc3QgaWZyYW1lU3R1YjogYW55ID0ge1xuICAgICAgICBwYXJlbnROb2RlOiB7IHJlbW92ZUNoaWxkOiBqZXN0LmZuKCkgfSxcbiAgICAgICAgc2V0QXR0cmlidXRlOiBqZXN0LmZuKCksXG4gICAgICB9O1xuICAgICAgY29uc3QgbWV0YVN0dWI6IGFueSA9IHtcbiAgICAgICAgcGFyZW50Tm9kZTogeyByZW1vdmVDaGlsZDogamVzdC5mbigpIH0sXG4gICAgICAgIHNldEF0dHJpYnV0ZTogamVzdC5mbigpLFxuICAgICAgfTtcbiAgICAgIHNweU9uKGRvY3VtZW50LmhlYWQsICdhcHBlbmRDaGlsZCcpLmFuZC5jYWxsRmFrZSgoKSA9PiB7fSk7XG4gICAgICBzcHlPbihkb2N1bWVudC5ib2R5LCAnYXBwZW5kQ2hpbGQnKS5hbmQuY2FsbEZha2UoKCkgPT4ge30pO1xuICAgICAgc3B5T24od2luZG93LmRvY3VtZW50LCAnY3JlYXRlRWxlbWVudCcpLmFuZC5jYWxsRmFrZSgoZWxlbWVudCkgPT5cbiAgICAgICAgZWxlbWVudCA9PT0gJ2lmcmFtZScgPyBpZnJhbWVTdHViIDogbWV0YVN0dWJcbiAgICAgICk7XG4gICAgICBqZXN0LnNweU9uKHdpbmRvdywgJ3JlbW92ZUV2ZW50TGlzdGVuZXInKTtcbiAgICAgIENvbm5lY3QubGF1bmNoKHVybCwge1xuICAgICAgICBvbkRvbmU6ICgpID0+IHt9LFxuICAgICAgICBvbkVycm9yOiAoKSA9PiB7fSxcbiAgICAgICAgb25DYW5jZWw6ICgpID0+IHt9LFxuICAgICAgfSk7XG4gICAgICBDb25uZWN0LmRlc3Ryb3koKTtcblxuICAgICAgZXhwZWN0KGlmcmFtZVN0dWIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgICAgZXhwZWN0KG1ldGFTdHViLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCByZW1vdmUgcG9zdE1lc3NhZ2UgZXZlbnQgbGlzdGVuZXInLCAoKSA9PiB7XG4gICAgICBsZXQgb25NZXNzYWdlRm47XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciA9IChjYikgPT4ge1xuICAgICAgICBvbk1lc3NhZ2VGbiA9IGNiO1xuICAgICAgfTtcbiAgICAgIGplc3Quc3B5T24od2luZG93LCAncmVtb3ZlRXZlbnRMaXN0ZW5lcicpO1xuICAgICAgQ29ubmVjdC5sYXVuY2godXJsLCB7XG4gICAgICAgIG9uRG9uZTogKCkgPT4ge30sXG4gICAgICAgIG9uRXJyb3I6ICgpID0+IHt9LFxuICAgICAgICBvbkNhbmNlbDogKCkgPT4ge30sXG4gICAgICB9KTtcbiAgICAgIENvbm5lY3QuZGVzdHJveSgpO1xuICAgICAgZXhwZWN0KHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgJ21lc3NhZ2UnLFxuICAgICAgICBvbk1lc3NhZ2VGblxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBjbG9zZSBwb3B1cCB3aW5kb3cnLCAoKSA9PiB7XG4gICAgICBzcHlPbih3aW5kb3csICdvcGVuJykuYW5kLnJldHVyblZhbHVlKG1vY2tXaW5kb3cpO1xuICAgICAgQ29ubmVjdC5sYXVuY2goXG4gICAgICAgIHVybCxcbiAgICAgICAgeyBvbkRvbmU6ICgpID0+IHt9LCBvbkVycm9yOiAoKSA9PiB7fSwgb25DYW5jZWw6ICgpID0+IHt9IH0sXG4gICAgICAgIHsgcG9wdXA6IHRydWUgfVxuICAgICAgKTtcbiAgICAgIENvbm5lY3QuZGVzdHJveSgpO1xuICAgICAgZXhwZWN0KG1vY2tXaW5kb3cuY2xvc2UpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2xhdW5jaCcsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIHBvcHVwIHNjZW5hcmlvIHdpdGggZGVmYXVsdCBvcHRpb25zJywgKCkgPT4ge1xuICAgICAgc3B5T24od2luZG93LCAnb3BlbicpLmFuZC5yZXR1cm5WYWx1ZShtb2NrV2luZG93KTtcbiAgICAgIGNvbnN0IG9uTG9hZCA9IGplc3QuZm4oKTtcbiAgICAgIHNweU9uKENvbm5lY3QsICdpbml0UG9zdE1lc3NhZ2UnKS5hbmQuY2FsbEZha2UoKCkgPT4ge30pO1xuICAgICAgQ29ubmVjdC5sYXVuY2goXG4gICAgICAgIHVybCxcbiAgICAgICAgeyBvbkRvbmU6ICgpID0+IHt9LCBvbkVycm9yOiAoKSA9PiB7fSwgb25DYW5jZWw6ICgpID0+IHt9LCBvbkxvYWQgfSxcbiAgICAgICAgeyBwb3B1cDogdHJ1ZSB9XG4gICAgICApO1xuICAgICAgZXhwZWN0KHdpbmRvdy5vcGVuKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgdXJsLFxuICAgICAgICAndGFyZ2V0V2luZG93JyxcbiAgICAgICAgYHRvb2xiYXI9bm8sbG9jYXRpb249bm8sc3RhdHVzPW5vLG1lbnViYXI9bm8sd2lkdGg9NzIwLGhlaWdodD01MjAsdG9wPTI0LGxlZnQ9MjUyYFxuICAgICAgKTtcbiAgICAgIGV4cGVjdChvbkxvYWQpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICAgIGV4cGVjdChDb25uZWN0LmluaXRQb3N0TWVzc2FnZSkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBwb3B1cCBzY2VuYXJpbyB3aXRoIHNwZWNpZmllZCBvcHRpb25zJywgKCkgPT4ge1xuICAgICAgc3B5T24od2luZG93LCAnb3BlbicpLmFuZC5yZXR1cm5WYWx1ZShtb2NrV2luZG93KTtcbiAgICAgIGNvbnN0IHBvcHVwT3B0aW9ucyA9IHtcbiAgICAgICAgd2lkdGg6IDEwMCxcbiAgICAgICAgaGVpZ2h0OiAxMDAsXG4gICAgICAgIHRvcDogMjAwLFxuICAgICAgICBsZWZ0OiAyMDAsXG4gICAgICB9O1xuICAgICAgY29uc3Qgb25Mb2FkID0gamVzdC5mbigpO1xuICAgICAgc3B5T24oQ29ubmVjdCwgJ2luaXRQb3N0TWVzc2FnZScpLmFuZC5jYWxsRmFrZSgoKSA9PiB7fSk7XG4gICAgICBDb25uZWN0LmxhdW5jaChcbiAgICAgICAgdXJsLFxuICAgICAgICB7IG9uRG9uZTogKCkgPT4ge30sIG9uRXJyb3I6ICgpID0+IHt9LCBvbkNhbmNlbDogKCkgPT4ge30sIG9uTG9hZCB9LFxuICAgICAgICB7IHBvcHVwOiB0cnVlLCBwb3B1cE9wdGlvbnMgfVxuICAgICAgKTtcbiAgICAgIGV4cGVjdChvbkxvYWQpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICAgIGV4cGVjdCh3aW5kb3cub3BlbikudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIHVybCxcbiAgICAgICAgJ3RhcmdldFdpbmRvdycsXG4gICAgICAgIGB0b29sYmFyPW5vLGxvY2F0aW9uPW5vLHN0YXR1cz1ubyxtZW51YmFyPW5vLHdpZHRoPSR7cG9wdXBPcHRpb25zLndpZHRofSxoZWlnaHQ9JHtwb3B1cE9wdGlvbnMuaGVpZ2h0fSx0b3A9JHtwb3B1cE9wdGlvbnMudG9wfSxsZWZ0PSR7cG9wdXBPcHRpb25zLmxlZnR9YFxuICAgICAgKTtcbiAgICAgIGV4cGVjdChDb25uZWN0LmluaXRQb3N0TWVzc2FnZSkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIHJldHVybiBlcnJvciBldmVudCBpZiBwb3B1cCBmYWlsZWQgdG8gb3BlbicsICgpID0+IHtcbiAgICAgIHNweU9uKHdpbmRvdywgJ29wZW4nKS5hbmQucmV0dXJuVmFsdWUodW5kZWZpbmVkKTtcbiAgICAgIGNvbnN0IG9uRXJyb3IgPSBqZXN0LmZuKCk7XG4gICAgICBDb25uZWN0LmxhdW5jaChcbiAgICAgICAgdXJsLFxuICAgICAgICB7IG9uRG9uZTogKCkgPT4ge30sIG9uRXJyb3IsIG9uQ2FuY2VsOiAoKSA9PiB7fSB9LFxuICAgICAgICB7IHBvcHVwOiB0cnVlIH1cbiAgICAgICk7XG4gICAgICBleHBlY3Qod2luZG93Lm9wZW4pLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICAgIGV4cGVjdChvbkVycm9yKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7IHJlYXNvbjogJ2Vycm9yJywgY29kZTogMTQwMyB9KTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgaWZyYW1lIHNjZW5hcmlvIHdpdGggbm8gb3ZlcnJpZGVzJywgKCkgPT4ge1xuICAgICAgc3B5T24oZG9jdW1lbnQsICdxdWVyeVNlbGVjdG9yQWxsJykuYW5kLmNhbGxUaHJvdWdoKCk7XG4gICAgICBjb25zdCBpZnJhbWVTdHViOiBhbnkgPSB7XG4gICAgICAgIHBhcmVudE5vZGU6IHsgcmVtb3ZlQ2hpbGQ6IGplc3QuZm4oKSB9LFxuICAgICAgICBzZXRBdHRyaWJ1dGU6IGplc3QuZm4oKSxcbiAgICAgIH07XG4gICAgICBjb25zdCBtZXRhU3R1YjogYW55ID0ge1xuICAgICAgICBwYXJlbnROb2RlOiB7IHJlbW92ZUNoaWxkOiBqZXN0LmZuKCkgfSxcbiAgICAgICAgc2V0QXR0cmlidXRlOiBqZXN0LmZuKCksXG4gICAgICB9O1xuICAgICAgc3B5T24oZG9jdW1lbnQuaGVhZCwgJ2FwcGVuZENoaWxkJykuYW5kLmNhbGxGYWtlKCgpID0+IHt9KTtcbiAgICAgIHNweU9uKGRvY3VtZW50LmJvZHksICdhcHBlbmRDaGlsZCcpLmFuZC5jYWxsRmFrZSgoKSA9PiB7fSk7XG4gICAgICBzcHlPbih3aW5kb3cuZG9jdW1lbnQsICdjcmVhdGVFbGVtZW50JykuYW5kLmNhbGxGYWtlKChlbGVtZW50KSA9PlxuICAgICAgICBlbGVtZW50ID09PSAnaWZyYW1lJyA/IGlmcmFtZVN0dWIgOiBtZXRhU3R1YlxuICAgICAgKTtcbiAgICAgIGNvbnN0IG9uTG9hZCA9IGplc3QuZm4oKTtcbiAgICAgIHNweU9uKENvbm5lY3QsICdpbml0UG9zdE1lc3NhZ2UnKS5hbmQuY2FsbEZha2UoKCkgPT4ge30pO1xuICAgICAgQ29ubmVjdC5sYXVuY2godXJsLCB7XG4gICAgICAgIG9uRG9uZTogKCkgPT4ge30sXG4gICAgICAgIG9uRXJyb3I6ICgpID0+IHt9LFxuICAgICAgICBvbkNhbmNlbDogKCkgPT4ge30sXG4gICAgICAgIG9uTG9hZCxcbiAgICAgIH0pO1xuICAgICAgZXhwZWN0KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICAnbWV0YVtuYW1lPVwidmlld3BvcnRcIl0nXG4gICAgICApO1xuICAgICAgZXhwZWN0KGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdtZXRhJyk7XG4gICAgICBleHBlY3QobWV0YVN0dWIuc2V0QXR0cmlidXRlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnbmFtZScsICd2aWV3cG9ydCcpO1xuICAgICAgZXhwZWN0KG1ldGFTdHViLnNldEF0dHJpYnV0ZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgICdjb250ZW50JyxcbiAgICAgICAgJ2luaXRpYWwtc2NhbGU9MSdcbiAgICAgICk7XG4gICAgICBleHBlY3QoZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZCkudG9IYXZlQmVlbkNhbGxlZFdpdGgobWV0YVN0dWIpO1xuXG4gICAgICBleHBlY3QoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ2lmcmFtZScpO1xuICAgICAgZXhwZWN0KGlmcmFtZVN0dWIuc3JjKS50b0JlKHVybCk7XG4gICAgICBleHBlY3QoaWZyYW1lU3R1Yi5zZXRBdHRyaWJ1dGUpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdpZCcsIElGUkFNRV9JRCk7XG4gICAgICBleHBlY3QoaWZyYW1lU3R1Yi5zZXRBdHRyaWJ1dGUpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdmcmFtZWJvcmRlcicsICcwJyk7XG4gICAgICBleHBlY3QoaWZyYW1lU3R1Yi5zZXRBdHRyaWJ1dGUpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdzY3JvbGxpbmcnLCAnbm8nKTtcblxuICAgICAgZXhwZWN0KGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKGlmcmFtZVN0dWIpO1xuICAgICAgaWZyYW1lU3R1Yi5vbmxvYWQoKTtcbiAgICAgIGV4cGVjdChDb25uZWN0LmluaXRQb3N0TWVzc2FnZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoe30pO1xuICAgICAgZXhwZWN0KG9uTG9hZCkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBpZnJhbWUgc2NlbmFyaW8gd2l0aCBjdXN0b20gb3ZlcmxheSBhbmQgY29udGFpbmVyJywgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja0NvbnRhaW5lciA9IHsgYXBwZW5kQ2hpbGQ6IGplc3QuZm4oKSB9O1xuICAgICAgY29uc3Qgb3B0aW9ucyA9IHsgb3ZlcmxheTogJ2dyYXknLCBzZWxlY3RvcjogJyNjb250YWluZXInIH07XG4gICAgICBzcHlPbihkb2N1bWVudCwgJ3F1ZXJ5U2VsZWN0b3JBbGwnKS5hbmQuY2FsbFRocm91Z2goKTtcbiAgICAgIHNweU9uKGRvY3VtZW50LCAncXVlcnlTZWxlY3RvcicpLmFuZC5yZXR1cm5WYWx1ZShtb2NrQ29udGFpbmVyKTtcbiAgICAgIGNvbnN0IGlmcmFtZVN0dWI6IGFueSA9IHtcbiAgICAgICAgcGFyZW50Tm9kZTogeyByZW1vdmVDaGlsZDogamVzdC5mbigpIH0sXG4gICAgICAgIHNldEF0dHJpYnV0ZTogamVzdC5mbigpLFxuICAgICAgfTtcbiAgICAgIGNvbnN0IG1ldGFTdHViOiBhbnkgPSB7XG4gICAgICAgIHBhcmVudE5vZGU6IHsgcmVtb3ZlQ2hpbGQ6IGplc3QuZm4oKSB9LFxuICAgICAgICBzZXRBdHRyaWJ1dGU6IGplc3QuZm4oKSxcbiAgICAgIH07XG4gICAgICBzcHlPbihkb2N1bWVudC5oZWFkLCAnYXBwZW5kQ2hpbGQnKS5hbmQuY2FsbEZha2UoKCkgPT4ge30pO1xuICAgICAgc3B5T24oZG9jdW1lbnQuYm9keSwgJ2FwcGVuZENoaWxkJykuYW5kLmNhbGxGYWtlKCgpID0+IHt9KTtcbiAgICAgIHNweU9uKHdpbmRvdy5kb2N1bWVudCwgJ2NyZWF0ZUVsZW1lbnQnKS5hbmQuY2FsbEZha2UoKGVsZW1lbnQpID0+XG4gICAgICAgIGVsZW1lbnQgPT09ICdpZnJhbWUnID8gaWZyYW1lU3R1YiA6IG1ldGFTdHViXG4gICAgICApO1xuICAgICAgY29uc3Qgb25Mb2FkID0gamVzdC5mbigpO1xuICAgICAgc3B5T24oQ29ubmVjdCwgJ2luaXRQb3N0TWVzc2FnZScpLmFuZC5jYWxsRmFrZSgoKSA9PiB7fSk7XG4gICAgICBDb25uZWN0LmxhdW5jaChcbiAgICAgICAgdXJsLFxuICAgICAgICB7IG9uRG9uZTogKCkgPT4ge30sIG9uRXJyb3I6ICgpID0+IHt9LCBvbkNhbmNlbDogKCkgPT4ge30sIG9uTG9hZCB9LFxuICAgICAgICBvcHRpb25zXG4gICAgICApO1xuXG4gICAgICBleHBlY3QoaWZyYW1lU3R1Yi5zZXRBdHRyaWJ1dGUpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICAnc3R5bGUnLFxuICAgICAgICAnYmFja2dyb3VuZDogZ3JheTsnXG4gICAgICApO1xuXG4gICAgICBleHBlY3QoZG9jdW1lbnQucXVlcnlTZWxlY3RvcikudG9IYXZlQmVlbkNhbGxlZFdpdGgoJyNjb250YWluZXInKTtcbiAgICAgIGV4cGVjdChtb2NrQ29udGFpbmVyLmFwcGVuZENoaWxkKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChpZnJhbWVTdHViKTtcblxuICAgICAgaWZyYW1lU3R1Yi5vbmxvYWQoKTtcbiAgICAgIGV4cGVjdChDb25uZWN0LmluaXRQb3N0TWVzc2FnZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgob3B0aW9ucyk7XG4gICAgICBleHBlY3Qob25Mb2FkKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIGlmcmFtZSBzY2VuYXJpbyB3aXRoIGN1c3RvbSBjb250YWluZXIgYXMgbm9kZScsICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tDb250YWluZXIgPSB7IGFwcGVuZENoaWxkOiBqZXN0LmZuKCkgfSBhcyBhbnk7XG4gICAgICBjb25zdCBvcHRpb25zID0geyBub2RlOiBtb2NrQ29udGFpbmVyIH07XG4gICAgICBjb25zdCBpZnJhbWVTdHViOiBhbnkgPSB7XG4gICAgICAgIHBhcmVudE5vZGU6IHsgcmVtb3ZlQ2hpbGQ6IGplc3QuZm4oKSB9LFxuICAgICAgICBzZXRBdHRyaWJ1dGU6IGplc3QuZm4oKSxcbiAgICAgIH07XG4gICAgICBjb25zdCBtZXRhU3R1YjogYW55ID0ge1xuICAgICAgICBwYXJlbnROb2RlOiB7IHJlbW92ZUNoaWxkOiBqZXN0LmZuKCkgfSxcbiAgICAgICAgc2V0QXR0cmlidXRlOiBqZXN0LmZuKCksXG4gICAgICB9O1xuICAgICAgc3B5T24oZG9jdW1lbnQuaGVhZCwgJ2FwcGVuZENoaWxkJykuYW5kLmNhbGxGYWtlKCgpID0+IHt9KTtcbiAgICAgIHNweU9uKHdpbmRvdy5kb2N1bWVudCwgJ2NyZWF0ZUVsZW1lbnQnKS5hbmQuY2FsbEZha2UoKGVsZW1lbnQpID0+XG4gICAgICAgIGVsZW1lbnQgPT09ICdpZnJhbWUnID8gaWZyYW1lU3R1YiA6IG1ldGFTdHViXG4gICAgICApO1xuICAgICAgY29uc3Qgb25Mb2FkID0gamVzdC5mbigpO1xuICAgICAgc3B5T24oQ29ubmVjdCwgJ2luaXRQb3N0TWVzc2FnZScpLmFuZC5jYWxsRmFrZSgoKSA9PiB7fSk7XG4gICAgICBDb25uZWN0LmxhdW5jaChcbiAgICAgICAgdXJsLFxuICAgICAgICB7IG9uRG9uZTogKCkgPT4ge30sIG9uRXJyb3I6ICgpID0+IHt9LCBvbkNhbmNlbDogKCkgPT4ge30sIG9uTG9hZCB9LFxuICAgICAgICBvcHRpb25zXG4gICAgICApO1xuXG4gICAgICBleHBlY3QobW9ja0NvbnRhaW5lci5hcHBlbmRDaGlsZCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoaWZyYW1lU3R1Yik7XG5cbiAgICAgIGlmcmFtZVN0dWIub25sb2FkKCk7XG4gICAgICBleHBlY3QoQ29ubmVjdC5pbml0UG9zdE1lc3NhZ2UpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKG9wdGlvbnMpO1xuICAgICAgZXhwZWN0KG9uTG9hZCkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgdGVzdChcInNob3VsZCBsb2cgd2FybmluZyBhbmQgYXBwZW5kIGlmcmFtZSB0byBib2R5IGlmIHNlbGVjdG9yIGRvZXNuJ3QgcmV0dXJuIGFuIGVsZW1lbnRcIiwgKCkgPT4ge1xuICAgICAgc3B5T24oY29uc29sZSwgJ3dhcm4nKS5hbmQuY2FsbEZha2UoKCkgPT4ge30pO1xuICAgICAgY29uc3Qgb3B0aW9ucyA9IHsgc2VsZWN0b3I6ICcjY29udGFpbmVyJyB9O1xuICAgICAgc3B5T24oZG9jdW1lbnQsICdxdWVyeVNlbGVjdG9yQWxsJykuYW5kLmNhbGxUaHJvdWdoKCk7XG4gICAgICBzcHlPbihkb2N1bWVudCwgJ3F1ZXJ5U2VsZWN0b3InKS5hbmQucmV0dXJuVmFsdWUodW5kZWZpbmVkKTtcbiAgICAgIGNvbnN0IGlmcmFtZVN0dWI6IGFueSA9IHtcbiAgICAgICAgcGFyZW50Tm9kZTogeyByZW1vdmVDaGlsZDogamVzdC5mbigpIH0sXG4gICAgICAgIHNldEF0dHJpYnV0ZTogamVzdC5mbigpLFxuICAgICAgfTtcbiAgICAgIGNvbnN0IG1ldGFTdHViOiBhbnkgPSB7XG4gICAgICAgIHBhcmVudE5vZGU6IHsgcmVtb3ZlQ2hpbGQ6IGplc3QuZm4oKSB9LFxuICAgICAgICBzZXRBdHRyaWJ1dGU6IGplc3QuZm4oKSxcbiAgICAgIH07XG4gICAgICBzcHlPbihkb2N1bWVudC5oZWFkLCAnYXBwZW5kQ2hpbGQnKS5hbmQuY2FsbEZha2UoKCkgPT4ge30pO1xuICAgICAgc3B5T24oZG9jdW1lbnQuYm9keSwgJ2FwcGVuZENoaWxkJykuYW5kLmNhbGxGYWtlKCgpID0+IHt9KTtcbiAgICAgIHNweU9uKHdpbmRvdy5kb2N1bWVudCwgJ2NyZWF0ZUVsZW1lbnQnKS5hbmQuY2FsbEZha2UoKGVsZW1lbnQpID0+XG4gICAgICAgIGVsZW1lbnQgPT09ICdpZnJhbWUnID8gaWZyYW1lU3R1YiA6IG1ldGFTdHViXG4gICAgICApO1xuICAgICAgY29uc3Qgb25Mb2FkID0gamVzdC5mbigpO1xuICAgICAgc3B5T24oQ29ubmVjdCwgJ2luaXRQb3N0TWVzc2FnZScpLmFuZC5jYWxsRmFrZSgoKSA9PiB7fSk7XG4gICAgICBDb25uZWN0LmxhdW5jaChcbiAgICAgICAgdXJsLFxuICAgICAgICB7IG9uRG9uZTogKCkgPT4ge30sIG9uRXJyb3I6ICgpID0+IHt9LCBvbkNhbmNlbDogKCkgPT4ge30sIG9uTG9hZCB9LFxuICAgICAgICBvcHRpb25zXG4gICAgICApO1xuXG4gICAgICBleHBlY3QoZG9jdW1lbnQucXVlcnlTZWxlY3RvcikudG9IYXZlQmVlbkNhbGxlZFdpdGgoJyNjb250YWluZXInKTtcbiAgICAgIGV4cGVjdChkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChpZnJhbWVTdHViKTtcbiAgICAgIGV4cGVjdChjb25zb2xlLndhcm4pLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICBgQ291bGRuJ3QgZmluZCBhbnkgZWxlbWVudHMgbWF0Y2hpbmcgXCIke29wdGlvbnMuc2VsZWN0b3J9XCIsIGFwcGVuZGluZyBcImlmcmFtZVwiIHRvIFwiYm9keVwiIGluc3RlYWQuYFxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCB0aHJvdyBlcnJvciBpZiBsYXVuY2ggaXMgY2FsbGVkIGFnYWluIGJlZm9yZSBjYWxsaW5nIGRlc3Ryb3knLCAoKSA9PiB7XG4gICAgICBDb25uZWN0LmxhdW5jaCh1cmwsIHtcbiAgICAgICAgb25Eb25lOiAoKSA9PiB7fSxcbiAgICAgICAgb25FcnJvcjogKCkgPT4ge30sXG4gICAgICAgIG9uQ2FuY2VsOiAoKSA9PiB7fSxcbiAgICAgIH0pO1xuICAgICAgdHJ5IHtcbiAgICAgICAgQ29ubmVjdC5sYXVuY2godXJsLCB7XG4gICAgICAgICAgb25Eb25lOiAoKSA9PiB7fSxcbiAgICAgICAgICBvbkVycm9yOiAoKSA9PiB7fSxcbiAgICAgICAgICBvbkNhbmNlbDogKCkgPT4ge30sXG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaCAoZTogYW55KSB7XG4gICAgICAgIGV4cGVjdChlLm1lc3NhZ2UpLnRvQmUoXG4gICAgICAgICAgJ1lvdSBtdXN0IGRlc3Ryb3kgdGhlIGlmcmFtZSBiZWZvcmUgeW91IGNhbiBvcGVuIGEgbmV3IG9uZS4gQ2FsbCBcImRlc3Ryb3koKVwiJ1xuICAgICAgICApO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnaW5pdFBvc3RNZXNzYWdlJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCBjYWxsIHBvc3RNZXNzYWdlIGV2ZXJ5IHNlY29uZCB3aXRoIHRoZSBleHBlY3RlZCBwYXJhbWV0ZXJzIGFuZCBhdHRhY2ggcG9zdE1lc3NhZ2UgZXZlbnQgaGFuZGxlcicsICgpID0+IHtcbiAgICAgIHNweU9uKHdpbmRvdywgJ3NldEludGVydmFsJykuYW5kLmNhbGxUaHJvdWdoKCk7XG4gICAgICBzcHlPbihDb25uZWN0LCAncG9zdE1lc3NhZ2UnKS5hbmQuY2FsbEZha2UoKCkgPT4ge30pO1xuXG4gICAgICBDb25uZWN0LmluaXRQb3N0TWVzc2FnZSh7IHNlbGVjdG9yOiAnI2NvbnRhaW5lcicgfSk7XG4gICAgICBqZXN0LmFkdmFuY2VUaW1lcnNCeVRpbWUoMTEwMCk7XG4gICAgICBleHBlY3QoQ29ubmVjdC5wb3N0TWVzc2FnZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xuICAgICAgICB0eXBlOiBQSU5HX0VWRU5ULFxuICAgICAgICBzZWxlY3RvcjogJyNjb250YWluZXInLFxuICAgICAgICBzZGtWZXJzaW9uOiBDT05ORUNUX1NES19WRVJTSU9OLFxuICAgICAgICBwbGF0Zm9ybTogUExBVEZPUk1fSUZSQU1FLFxuICAgICAgfSk7XG5cbiAgICAgIENvbm5lY3QuaW5pdFBvc3RNZXNzYWdlKHsgcG9wdXA6IHRydWUgfSk7XG4gICAgICBqZXN0LmFkdmFuY2VUaW1lcnNCeVRpbWUoMTEwMCk7XG4gICAgICBleHBlY3QoQ29ubmVjdC5wb3N0TWVzc2FnZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xuICAgICAgICB0eXBlOiBQSU5HX0VWRU5ULFxuICAgICAgICBzZWxlY3RvcjogdW5kZWZpbmVkLFxuICAgICAgICBzZGtWZXJzaW9uOiBDT05ORUNUX1NES19WRVJTSU9OLFxuICAgICAgICBwbGF0Zm9ybTogUExBVEZPUk1fUE9QVVAsXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBjYWxsIGF0dGFjaCBwb3N0TWVzc2FnZSBldmVudCBoYW5kbGVyIGFuZCBzZW5kIGV2ZW50cyBhcyBleHBlY3RlZCcsICgpID0+IHtcbiAgICAgIGxldCBldmVudEhhbmRsZXI7XG4gICAgICBsZXQgcG9wdXBNb2NrID0geyBjbG9zZTogamVzdC5mbigpLCBmb2N1czogamVzdC5mbigpIH07XG4gICAgICBzcHlPbih3aW5kb3csICdvcGVuJykuYW5kLmNhbGxGYWtlKGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUocG9wdXBNb2NrKSk7XG4gICAgICBzcHlPbih3aW5kb3csICdhZGRFdmVudExpc3RlbmVyJykuYW5kLmNhbGxGYWtlKFxuICAgICAgICAoZXZlbnRUeXBlLCBlaCkgPT4gKGV2ZW50SGFuZGxlciA9IGVoKVxuICAgICAgKTtcbiAgICAgIGNvbnN0IGV2ZW50SGFuZGxlcnMgPSB7XG4gICAgICAgIG9uRG9uZTogamVzdC5mbigpLFxuICAgICAgICBvbkVycm9yOiBqZXN0LmZuKCksXG4gICAgICAgIG9uQ2FuY2VsOiBqZXN0LmZuKCksXG4gICAgICB9O1xuICAgICAgQ29ubmVjdC5sYXVuY2godXJsLCBldmVudEhhbmRsZXJzKTtcbiAgICAgIENvbm5lY3QuaW5pdFBvc3RNZXNzYWdlKHsgc2VsZWN0b3I6ICcjY29udGFpbmVyJyB9KTtcblxuICAgICAgZXhwZWN0KHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgICBzcHlPbih3aW5kb3csICdjbGVhckludGVydmFsJyk7XG4gICAgICBldmVudEhhbmRsZXIoeyBvcmlnaW46IHVybCwgZGF0YTogeyB0eXBlOiBBQ0tfRVZFTlQgfSB9KTtcbiAgICAgIGV4cGVjdCh3aW5kb3cuY2xlYXJJbnRlcnZhbCkudG9IYXZlQmVlbkNhbGxlZCgpO1xuXG4gICAgICBzcHlPbihDb25uZWN0LCAnb3BlblBvcHVwV2luZG93JykuYW5kLmNhbGxUaHJvdWdoKCk7XG4gICAgICBzcHlPbihDb25uZWN0LCAnZGVzdHJveScpO1xuICAgICAgZXZlbnRIYW5kbGVyKHtcbiAgICAgICAgb3JpZ2luOiB1cmwsXG4gICAgICAgIGRhdGE6IHsgdHlwZTogVVJMX0VWRU5ULCB1cmw6ICdodHRwOi8vb2F1dGguY29tJyB9LFxuICAgICAgfSk7XG4gICAgICBleHBlY3QoQ29ubmVjdC5vcGVuUG9wdXBXaW5kb3cpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdodHRwOi8vb2F1dGguY29tJyk7XG5cbiAgICAgIGNvbnN0IHBheWxvYWQgPSB7IHRlc3Q6IHRydWUgfTtcbiAgICAgIGV2ZW50SGFuZGxlcih7IG9yaWdpbjogdXJsLCBkYXRhOiB7IHR5cGU6IERPTkVfRVZFTlQsIGRhdGE6IHBheWxvYWQgfSB9KTtcbiAgICAgIGV4cGVjdChldmVudEhhbmRsZXJzLm9uRG9uZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgocGF5bG9hZCk7XG4gICAgICBleHBlY3QoQ29ubmVjdC5kZXN0cm95KS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMSk7XG5cbiAgICAgIGV2ZW50SGFuZGxlcih7XG4gICAgICAgIG9yaWdpbjogdXJsLFxuICAgICAgICBkYXRhOiB7IHR5cGU6IENBTkNFTF9FVkVOVCwgZGF0YTogcGF5bG9hZCB9LFxuICAgICAgfSk7XG4gICAgICBleHBlY3QoZXZlbnRIYW5kbGVycy5vbkNhbmNlbCkudG9IYXZlQmVlbkNhbGxlZFdpdGgocGF5bG9hZCk7XG4gICAgICBleHBlY3QoQ29ubmVjdC5kZXN0cm95KS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMik7XG5cbiAgICAgIGV2ZW50SGFuZGxlcih7IG9yaWdpbjogdXJsLCBkYXRhOiB7IHR5cGU6IEVSUk9SX0VWRU5ULCBkYXRhOiBwYXlsb2FkIH0gfSk7XG4gICAgICBleHBlY3QoZXZlbnRIYW5kbGVycy5vbkNhbmNlbCkudG9IYXZlQmVlbkNhbGxlZFdpdGgocGF5bG9hZCk7XG4gICAgICBleHBlY3QoQ29ubmVjdC5kZXN0cm95KS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMyk7XG5cbiAgICAgIGV2ZW50SGFuZGxlcih7IG9yaWdpbjogdXJsLCBkYXRhOiB7IHR5cGU6IFJPVVRFX0VWRU5ULCBkYXRhOiBwYXlsb2FkIH0gfSk7XG4gICAgICBleHBlY3QoZXZlbnRIYW5kbGVycy5vbkNhbmNlbCkudG9IYXZlQmVlbkNhbGxlZFdpdGgocGF5bG9hZCk7XG4gICAgICBleHBlY3QoQ29ubmVjdC5kZXN0cm95KS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMyk7XG5cbiAgICAgIGV2ZW50SGFuZGxlcih7IG9yaWdpbjogdXJsLCBkYXRhOiB7IHR5cGU6IFVTRVJfRVZFTlQsIGRhdGE6IHBheWxvYWQgfSB9KTtcbiAgICAgIGV4cGVjdChldmVudEhhbmRsZXJzLm9uQ2FuY2VsKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChwYXlsb2FkKTtcbiAgICAgIGV4cGVjdChDb25uZWN0LmRlc3Ryb3kpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygzKTtcblxuICAgICAgZXZlbnRIYW5kbGVyKHtcbiAgICAgICAgb3JpZ2luOiB1cmwsXG4gICAgICAgIGRhdGE6IHsgdHlwZTogQ0xPU0VfUE9QVVBfRVZFTlQsIGRhdGE6IHBheWxvYWQgfSxcbiAgICAgIH0pO1xuICAgICAgZXhwZWN0KHBvcHVwTW9jay5jbG9zZSkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgICAgZXhwZWN0KENvbm5lY3QuZGVzdHJveSkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDMpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGNhbGwgYXR0YWNoIHBvc3RNZXNzYWdlIGV2ZW50IGhhbmRsZXIgYW5kIHBpbmcgQ29ubmVjdCBpbmRlZmluaXRlbHkgZm9yIHBvcHVwIHNjZW5hcmlvJywgKCkgPT4ge1xuICAgICAgbGV0IGV2ZW50SGFuZGxlcjtcbiAgICAgIHNweU9uKHdpbmRvdywgJ29wZW4nKS5hbmQuY2FsbEZha2UoKCkgPT4gbW9ja1dpbmRvdyk7XG4gICAgICBzcHlPbih3aW5kb3csICdhZGRFdmVudExpc3RlbmVyJykuYW5kLmNhbGxGYWtlKFxuICAgICAgICAoZXZlbnRUeXBlLCBlaCkgPT4gKGV2ZW50SGFuZGxlciA9IGVoKVxuICAgICAgKTtcbiAgICAgIGNvbnN0IGV2ZW50SGFuZGxlcnMgPSB7XG4gICAgICAgIG9uRG9uZTogamVzdC5mbigpLFxuICAgICAgICBvbkVycm9yOiBqZXN0LmZuKCksXG4gICAgICAgIG9uQ2FuY2VsOiBqZXN0LmZuKCksXG4gICAgICB9O1xuICAgICAgQ29ubmVjdC5sYXVuY2godXJsLCBldmVudEhhbmRsZXJzLCB7IHBvcHVwOiB0cnVlIH0pO1xuICAgICAgQ29ubmVjdC5pbml0UG9zdE1lc3NhZ2UoeyBwb3B1cDogdHJ1ZSB9KTtcblxuICAgICAgZXhwZWN0KHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgICBzcHlPbih3aW5kb3csICdjbGVhckludGVydmFsJyk7XG4gICAgICBldmVudEhhbmRsZXIoeyBvcmlnaW46IHVybCwgZGF0YTogeyB0eXBlOiBBQ0tfRVZFTlQgfSB9KTtcbiAgICAgIGV4cGVjdCh3aW5kb3cuY2xlYXJJbnRlcnZhbCkubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ29wZW5Qb3B1cFdpbmRvdycsICgpID0+IHtcbiAgICB0ZXN0KFwic2hvdWxkIG9wZW4gcG9wdXAgd2luZG93LCBmb2N1cyBvbiBpdCBhbmQgcGVyaW9kaWNhbGx5IHdhdGNoIGlmIGl0J3Mgc3RpbGwgb3BlblwiLCAoKSA9PiB7XG4gICAgICBzcHlPbih3aW5kb3csICdvcGVuJykuYW5kLmNhbGxGYWtlKCgpID0+IG1vY2tXaW5kb3cpO1xuICAgICAgc3B5T24od2luZG93LCAnc2V0SW50ZXJ2YWwnKTtcbiAgICAgIHNweU9uKHdpbmRvdywgJ2NsZWFySW50ZXJ2YWwnKTtcbiAgICAgIHNweU9uKENvbm5lY3QsICdwb3N0TWVzc2FnZScpLmFuZC5jYWxsRmFrZSgoKSA9PiB7fSk7XG5cbiAgICAgIENvbm5lY3Qub3BlblBvcHVwV2luZG93KHVybCk7XG4gICAgICBleHBlY3Qod2luZG93Lm9wZW4pLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICB1cmwsXG4gICAgICAgICd0YXJnZXRXaW5kb3cnLFxuICAgICAgICBgdG9vbGJhcj1ubyxsb2NhdGlvbj1ubyxzdGF0dXM9bm8sbWVudWJhcj1ubyx3aWR0aD0ke1BPUFVQX1dJRFRIfSxoZWlnaHQ9JHtQT1BVUF9IRUlHSFR9LHRvcD04NCxsZWZ0PTIxMmBcbiAgICAgICk7XG4gICAgICBleHBlY3QobW9ja1dpbmRvdy5mb2N1cykudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgICAgZXhwZWN0KHdpbmRvdy5zZXRJbnRlcnZhbCkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgICAgamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lKDExMDApO1xuICAgICAgZXhwZWN0KHdpbmRvdy5jbGVhckludGVydmFsKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGNhbGwgcG9zdE1lc3NhZ2Ugd2hlbiB0aGUgcG9wdXAgaXMgY2xvc2VkJywgKCkgPT4ge1xuICAgICAgbW9ja1dpbmRvdy5jbG9zZWQgPSB0cnVlO1xuICAgICAgc3B5T24od2luZG93LCAnb3BlbicpLmFuZC5jYWxsRmFrZSgoKSA9PiBtb2NrV2luZG93KTtcbiAgICAgIHNweU9uKHdpbmRvdywgJ3NldEludGVydmFsJykuYW5kLmNhbGxUaHJvdWdoKCk7XG4gICAgICBzcHlPbih3aW5kb3csICdjbGVhckludGVydmFsJyk7XG4gICAgICBzcHlPbihDb25uZWN0LCAncG9zdE1lc3NhZ2UnKS5hbmQuY2FsbEZha2UoKCkgPT4ge30pO1xuXG4gICAgICBDb25uZWN0Lm9wZW5Qb3B1cFdpbmRvdyh1cmwpO1xuICAgICAgZXhwZWN0KHdpbmRvdy5vcGVuKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgdXJsLFxuICAgICAgICAndGFyZ2V0V2luZG93JyxcbiAgICAgICAgYHRvb2xiYXI9bm8sbG9jYXRpb249bm8sc3RhdHVzPW5vLG1lbnViYXI9bm8sd2lkdGg9JHtQT1BVUF9XSURUSH0saGVpZ2h0PSR7UE9QVVBfSEVJR0hUfSx0b3A9ODQsbGVmdD0yMTJgXG4gICAgICApO1xuICAgICAgZXhwZWN0KG1vY2tXaW5kb3cuZm9jdXMpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICAgIGV4cGVjdCh3aW5kb3cuc2V0SW50ZXJ2YWwpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcblxuICAgICAgamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lKDExMDApO1xuICAgICAgZXhwZWN0KHdpbmRvdy5jbGVhckludGVydmFsKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgICBleHBlY3QoQ29ubmVjdC5wb3N0TWVzc2FnZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xuICAgICAgICB0eXBlOiBXSU5ET1dfRVZFTlQsXG4gICAgICAgIGNsb3NlZDogdHJ1ZSxcbiAgICAgICAgYmxvY2tlZDogZmFsc2UsXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBsZXQgQ29ubmVjdCBrbm93IGlmIHRoZSBwb3B1cCB3YXMgYmxvY2tlZCcsICgpID0+IHtcbiAgICAgIHNweU9uKHdpbmRvdywgJ29wZW4nKS5hbmQuY2FsbEZha2UoKCkgPT4gdW5kZWZpbmVkKTtcbiAgICAgIHNweU9uKENvbm5lY3QsICdwb3N0TWVzc2FnZScpLmFuZC5jYWxsRmFrZSgoKSA9PiB7fSk7XG5cbiAgICAgIENvbm5lY3Qub3BlblBvcHVwV2luZG93KHVybCk7XG4gICAgICBleHBlY3Qod2luZG93Lm9wZW4pLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICB1cmwsXG4gICAgICAgICd0YXJnZXRXaW5kb3cnLFxuICAgICAgICBgdG9vbGJhcj1ubyxsb2NhdGlvbj1ubyxzdGF0dXM9bm8sbWVudWJhcj1ubyx3aWR0aD0ke1BPUFVQX1dJRFRIfSxoZWlnaHQ9JHtQT1BVUF9IRUlHSFR9LHRvcD04NCxsZWZ0PTIxMmBcbiAgICAgICk7XG4gICAgICBleHBlY3QobW9ja1dpbmRvdy5mb2N1cykubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICAgIGV4cGVjdChDb25uZWN0LnBvc3RNZXNzYWdlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7XG4gICAgICAgIHR5cGU6IFdJTkRPV19FVkVOVCxcbiAgICAgICAgY2xvc2VkOiB0cnVlLFxuICAgICAgICBibG9ja2VkOiB0cnVlLFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdwb3N0TWVzc2FnZScsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgY2FsbCBwb3N0TWVzc2FnZSBvbiAoaWZyYW1lKScsICgpID0+IHtcbiAgICAgIGNvbnN0IGlmcmFtZVN0dWI6IGFueSA9IHtcbiAgICAgICAgcGFyZW50Tm9kZTogeyByZW1vdmVDaGlsZDogamVzdC5mbigpIH0sXG4gICAgICAgIHNldEF0dHJpYnV0ZTogamVzdC5mbigpLFxuICAgICAgICBjb250ZW50V2luZG93OiB7IHBvc3RNZXNzYWdlOiBqZXN0LmZuKCkgfSxcbiAgICAgIH07XG4gICAgICBjb25zdCBtZXRhU3R1YjogYW55ID0ge1xuICAgICAgICBwYXJlbnROb2RlOiB7IHJlbW92ZUNoaWxkOiBqZXN0LmZuKCkgfSxcbiAgICAgICAgc2V0QXR0cmlidXRlOiBqZXN0LmZuKCksXG4gICAgICB9O1xuICAgICAgc3B5T24oZG9jdW1lbnQuaGVhZCwgJ2FwcGVuZENoaWxkJykuYW5kLmNhbGxGYWtlKCgpID0+IHt9KTtcbiAgICAgIHNweU9uKGRvY3VtZW50LmJvZHksICdhcHBlbmRDaGlsZCcpLmFuZC5jYWxsRmFrZSgoKSA9PiB7fSk7XG4gICAgICBzcHlPbih3aW5kb3cuZG9jdW1lbnQsICdjcmVhdGVFbGVtZW50JykuYW5kLmNhbGxGYWtlKChlbGVtZW50KSA9PlxuICAgICAgICBlbGVtZW50ID09PSAnaWZyYW1lJyA/IGlmcmFtZVN0dWIgOiBtZXRhU3R1YlxuICAgICAgKTtcbiAgICAgIENvbm5lY3QubGF1bmNoKHVybCwge1xuICAgICAgICBvbkRvbmU6ICgpID0+IHt9LFxuICAgICAgICBvbkVycm9yOiAoKSA9PiB7fSxcbiAgICAgICAgb25DYW5jZWw6ICgpID0+IHt9LFxuICAgICAgfSk7XG4gICAgICBpZnJhbWVTdHViLm9ubG9hZCgpO1xuICAgICAgY29uc3QgZGF0YSA9IHsgdGVzdDogdHJ1ZSB9O1xuICAgICAgQ29ubmVjdC5wb3N0TWVzc2FnZShkYXRhKTtcbiAgICAgIGV4cGVjdChpZnJhbWVTdHViLmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2UpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICBkYXRhLFxuICAgICAgICB1cmxcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgY2FsbCBwb3N0TWVzc2FnZSBvbiAocG9wdXApJywgKCkgPT4ge1xuICAgICAgc3B5T24od2luZG93LCAnb3BlbicpLmFuZC5yZXR1cm5WYWx1ZShtb2NrV2luZG93KTtcbiAgICAgIENvbm5lY3QubGF1bmNoKFxuICAgICAgICB1cmwsXG4gICAgICAgIHsgb25Eb25lOiAoKSA9PiB7fSwgb25FcnJvcjogKCkgPT4ge30sIG9uQ2FuY2VsOiAoKSA9PiB7fSB9LFxuICAgICAgICB7IHBvcHVwOiB0cnVlIH1cbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IGRhdGEgPSB7IHRlc3Q6IHRydWUgfTtcbiAgICAgIENvbm5lY3QucG9zdE1lc3NhZ2UoZGF0YSk7XG4gICAgICBleHBlY3QobW9ja1dpbmRvdy5wb3N0TWVzc2FnZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoZGF0YSwgdXJsKTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdfQ==